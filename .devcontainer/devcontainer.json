{
  "name": "C# .NET 9 + SvelteKit Development",
  "image": "mcr.microsoft.com/devcontainers/dotnet:1-9.0",
  "features": {
    "ghcr.io/devcontainers/features/node:1": {
      "version": "20"
    },
    "ghcr.io/devcontainers/features/git:1": {},
    "ghcr.io/devcontainers/features/github-cli:1": {}
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "bradlc.vscode-tailwindcss",
        "cweijan.dbclient-jdbc",
        "cweijan.vscode-database-client2",
        "dbaeumer.vscode-eslint",
        "eamodio.gitlens",
        "esbenp.prettier-vscode",
        "formulahendry.dotnet-test-explorer",
        "github.codespaces",
        "github.github-vscode-theme",
        "github.vscode-pull-request-github",
        "jchannon.csharpextensions",
        "kreativ-software.csharpextensions",
        "monokai.theme-monokai-pro-vscode",
        "ms-dotnettools.csdevkit",
        "ms-dotnettools.csharp",
        "ms-dotnettools.vscode-dotnet-runtime",
        "ms-vscode.live-server",
        "ms-vscode.vscode-typescript-next",
        "redhat.vscode-yaml",
        "svelte.svelte-vscode"
      ],
      "settings": {
        // === GENERAL EDITOR SETTINGS ===
        "editor.fontFamily": "'Cascadia Code', 'JetBrains Mono', 'Fira Code', monospace",
        "editor.fontSize": 13,
        "editor.lineHeight": 22,
        "editor.fontLigatures": true,
        "editor.cursorBlinking": "phase",
        "editor.cursorStyle": "line-thin",
        "editor.autoIndent": "advanced",
        "editor.matchBrackets": false,
        "editor.linkedEditing": false,
        "editor.minimap.enabled": false,
        "editor.formatOnSave": false,
        "editor.formatOnType": true,
        "editor.defaultFormatter": "esbenp.prettier-vscode",
        "editor.inlineSuggest.enabled": true,

        // === WORD WRAP SETTINGS ===
        "editor.wordWrap": "wordWrapColumn",
        "editor.wordWrapColumn": 350,

        // === BRACKET AND GUIDE SETTINGS ===
        "editor.bracketPairColorization.enabled": true,
        "editor.guides.bracketPairs": "active",

        // === SUGGESTIONS AND INTELLISENSE ===
        "editor.suggestOnTriggerCharacters": true,
        "editor.quickSuggestions": {
          "comments": "on",
          "strings": "on",
          "other": "on"
        },

        // === FILE SETTINGS ===
        "files.insertFinalNewline": true,
        "files.trimTrailingWhitespace": true,
        "files.exclude": {
          "**/node_modules": true,
          "**/bin": true,
          "**/obj": true,
          "**/.svelte-kit": true,
          "**/build": true,
          "**/.git": true
        },

        // === WORKBENCH SETTINGS ===
        "workbench.colorTheme": "Monokai Pro (Filter Spectrum)",
        "workbench.iconTheme": "Monokai Pro (Filter Spectrum) Icons",
        "workbench.sideBar.location": "right",
        "workbench.activityBar.location": "top",
        "workbench.startupEditor": "none",
        "workbench.editor.enablePreview": false,
        "workbench.editor.wrapTabs": false,
        "workbench.editor.tabActionCloseVisibility": false,
        "workbench.settings.editor": "json",

        // === WINDOW SETTINGS ===
        "window.title": "${rootName}",

        // === EXPLORER SETTINGS ===
        "explorer.autoReveal": true,
        "explorer.confirmDragAndDrop": false,
        "breadcrumbs.enabled": true,

        // === TERMINAL SETTINGS ===
        "terminal.integrated.fontSize": 14,
        "terminal.integrated.confirmOnKill": "never",
        "terminal.integrated.suggest.enabled": true,

        // === C# / .NET SETTINGS ===
        "[csharp]": {
          "editor.defaultFormatter": "ms-dotnettools.csharp",
          "editor.tabSize": 4,
          "editor.insertSpaces": true,
          "editor.formatOnSave": true
        },
        "csharpextensions.useFileScopedNamespace": true,
        "dotnet.completion.showCompletionItemsFromUnimportedNamespaces": true,
        "dotnet.codeLens.enableReferencesCodeLens": true,
        "omnisharp.enableEditorConfigSupport": true,
        "omnisharp.enableRoslynAnalyzers": true,
        "csharp.semanticHighlighting.enabled": true,
        "csharp.format.enable": true,

        // === WEB DEVELOPMENT SETTINGS ===
        "[typescript]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode",
          "editor.tabSize": 2
        },
        "[javascript]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode",
          "editor.tabSize": 2
        },
        "[html]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode",
          "editor.tabSize": 2
        },
        "[css]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode",
          "editor.tabSize": 2
        },
        "[scss]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode",
          "editor.tabSize": 2
        },
        "[json]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode",
          "editor.tabSize": 2
        },
        "[jsonc]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode",
          "editor.tabSize": 2
        },

        // === SVELTE SETTINGS ===
        "[svelte]": {
          "editor.defaultFormatter": "svelte.svelte-vscode",
          "editor.tabSize": 2
        },
        "svelte.enable-ts-plugin": true,
        "svelte.plugin.css.diagnostics.enable": true,
        "svelte.plugin.css.completions.enable": true,
        "svelte.plugin.html.completions.enable": true,
        "svelte.plugin.svelte.completions.enable": true,
        "svelte.plugin.typescript.diagnostics.enable": true,
        "svelte.plugin.typescript.hover.enable": true,

        // === HTML FORMATTING ===
        "html.format.enable": true,
        "html.format.wrapLineLength": 180,
        "html.format.wrapAttributes": "preserve-aligned",

        // === TYPESCRIPT/JAVASCRIPT SETTINGS ===
        "typescript.updateImportsOnFileMove.enabled": "always",
        "javascript.updateImportsOnFileMove.enabled": "always",
        "typescript.autoClosingTags": false,
        "javascript.autoClosingTags": false,

        // === PRETTIER SETTINGS ===
        "prettier.printWidth": 80,
        "prettier.tabWidth": 2,
        "prettier.useTabs": false,
        "prettier.semi": true,
        "prettier.singleQuote": true,
        "prettier.trailingComma": "es5",
        "prettier.bracketSpacing": true,
        "prettier.arrowParens": "avoid",

        // === ESLINT SETTINGS ===
        "eslint.validate": ["javascript", "typescript", "svelte"],
        "eslint.format.enable": true,

        // === GIT SETTINGS ===
        "git.autofetch": "all",
        "git.enableSmartCommit": true,
        "git.confirmSync": false,
        "git.inputValidationSubjectLength": 72,
        "git.mergeEditor": false,

        // === EMMET SETTINGS ===
        "emmet.includeLanguages": {
          "svelte": "html"
        },
        "emmet.triggerExpansionOnTab": true,

        // === MISC SETTINGS ===
        "output.smartScroll.enabled": false,
        "diffEditor.ignoreTrimWhitespace": false
      }
    }
  },
  "postCreateCommand": "bash .devcontainer/setup.sh",
  "forwardPorts": [5000, 5001, 5173, 4173, 3000],
  "portsAttributes": {
    "5000": {
      "label": "ASP.NET Core HTTP",
      "onAutoForward": "notify"
    },
    "5001": {
      "label": "ASP.NET Core HTTPS",
      "onAutoForward": "notify"
    },
    "5173": {
      "label": "SvelteKit Dev Server",
      "onAutoForward": "openPreview"
    },
    "4173": {
      "label": "SvelteKit Preview",
      "onAutoForward": "openPreview"
    },
    "3000": {
      "label": "Alternative Dev Server",
      "onAutoForward": "openPreview"
    }
  },
  "remoteUser": "vscode"
}
